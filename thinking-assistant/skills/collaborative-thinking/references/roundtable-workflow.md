# 圆桌会议工作流程

## 第一阶段：材料收集

### 目标

在角色决定前，由调研官主导收集和验证讨论所需的关键信息，确保所有角色有足够的背景知识，并基于收集的材料为角色选择提供依据。

### 执行过程

1. **识别信息需求**
   - 议题涉及的技术领域
   - 需要了解的配置格式
   - 需要参考的文档

2. **信息收集**
   - 查找本地文档(优先)
   - 查找现有实现示例
   - 查找官方规范

3. **上下文分发**
   - 将收集的信息整理成结构化格式
   - 确保所有角色都有足够的背景资料

4. **角色建议分析**(调研官核心职责)
   - 基于收集的材料思考："这个世界上哪些人最懂这个问题？"
   - 为下一阶段的角色决定提供建议

### 输出格式

| 信息类别 | 内容 | 来源 |
|---------|------|------|
| [技术规范] | [配置字段说明] | [文档路径] |
| [现有示例] | [示例配置] | [文件路径] |
| [已知约束] | [约束条件] | [来源说明] |

### 优先级

**信息收集优先级**：
1. 本地文档(最高优先级)
   - 插件目录内的参考文档
   - 官方规范文件
   - 现有实现示例

2. 网络搜索(补充)
   - 仅在本地资源不足时使用
   - 作为补充信息，非主要来源

> 详细的调研官机制请参见 `research-officer.md`

---

## 第二阶段：角色决定

> 此阶段应基于材料收集阶段调研官提供的角色建议，选择最合适的讨论参与者角色。

### 目标

根据议题分析决定适合的讨论参与者角色。

### 执行过程

完整流程参见 `role-determination-process.md`

> 参见：[角色决定流程详情](./role-determination-process.md)

---

## 第三阶段：议题澄清

### 目标

确保所有参与者对议题有统一的理解。

### 执行过程

1. **理解议题**：
   - 用户提出的议题核心是什么？
   - 议题涉及哪些领域？
   - 期望达成的目标是什么？

2. **明确边界**：
   - 讨论的范围和边界
   - 需要关注的重点
   - 可以忽略的方面

3. **传达背景**：
   - 向参与者传达统一的议题背景
   - 确保所有参与者基于相同背景发言

---

## 第四阶段：角色发言

### 目标

每个参与者从其专业角度分析议题并发表观点。

### 执行过程

按照确定的参与者列表，**同时邀请所有参与者发言**：

```
并行执行所有参与者的发言:
    同时邀请每个参与者从其专业角度分析议题
    记录每个参与者的观点
    确保所有参与者的观点同时被收集

优势:
- 效率提升 3 倍
- 每个参与者作为独立子代理运行，具有完整的状态和上下文
- 避免串行执行中的等待时间
```

### 发言要求

每个参与者需要：
- 从其专业角度分析议题
- 提出核心观点
- 提供详细分析
- 给出具体建议
- 指出潜在的机会或风险
- 使用与其角色身份相符的语言和风格
- **事实陈述必须标注来源**

### 输出格式

### [角色1]
**核心观点**：[简洁概括]
**详细分析**：
- [分析点1]
- [分析点2]
- [分析点3]
**建议**：[具体建议]

---

## 第五阶段：调研验证(角色发言)

### 目标

由调研官验证各角色发言中的事实陈述，识别错误和缺失信息。

### 执行过程

1. **事实验证**
   - 检查发言中的事实陈述是否有证据
   - 有标注来源的？ → 通过
   - 没有来源的？ → 请求补充
   - 明确说"假设"的？ → 标记为未验证

2. **上下文检查**
   - 识别发言中隐含的未知信息
   - 提到了"配置格式" → 有具体示例吗？
   - 提到了"最佳实践" → 有来源文档吗？

3. **冲突检测**
   - 与之前证据对比
   - 是否与已知证据矛盾？
   - 是否与共识矛盾？

4. **请求补充**
   - 如发现缺失信息，统一收集
   - 如发现错误，请求重新发言

### 输出格式

如果发现问题：
```
⚠️ 调研审核：角色发言

发现问题：

1. [问题描述]
   - 角色：[角色名]
   - 位置：[发言中的位置]
   - 请求：[具体补充]

2. [问题描述]
   ...

【建议】：暂停讨论，请求调研官收集信息后再继续
```

如果通过：
```
✅ 调研审核：角色发言通过
```

---

## 第六阶段：观点交换

### 目标

让参与者针对彼此的观点进行回应，促进跨角色的思维碰撞。

### 执行过程

1. **观点分享**：
   - 将所有参与者的观点共享给所有角色
   - 确保每个参与者都了解其他人的观点

2. **回应引导**：
   - 让参与者针对彼此的观点进行回应
   - 鼓励建设性的辩论和讨论
   - 引导参与者在他人的观点上进行延伸

3. **思维碰撞**：
   - 促进跨角色的思维碰撞
   - 寻找观点之间的联系和差异
   - 鼓励基于他人观点提出新见解

### 输出格式

### [角色1] 对其他观点的回应
[回应内容，包括对其他角色观点的认可、补充或不同意见]

### [角色2] 对其他观点的回应
[回应内容]

---

## 第七阶段：调研验证(观点交换)

### 目标

由调研官验证参与者在观点交换中的回应，确保回应内容基于正确信息。

### 执行过程

1. **事实验证**
   - 检查回应中的事实陈述
   - 验证引用的他人观点是否准确
   - 检查新增的事实主张是否有证据

2. **一致性检查**
   - 检测回应是否与之前的发言矛盾
   - 验证推理链条的完整性

3. **标记问题**
   - 发现错误或不确定信息时明确标记
   - 请求补充或澄清

### 输出格式

与第五阶段格式相同。

---

## 第八阶段：共识提炼

### 目标

识别共识和分歧，尝试寻找弥合分歧的中间方案。

### 执行过程

1. **识别共识**：
   - 分析各参与者观点的共同点
   - 提炼达成共识的部分
   - 明确哪些观点得到一致认可

2. **识别分歧**：
   - 总结仍存在的分歧
   - 明确哪些问题存在不同意见
   - 说明不同意见分别是什么

3. **寻找中间方案**(可选)：
   - 尝试寻找可以弥合分歧的中间方案
   - 提出折中的建议
   - 说明可以进一步探讨的方向

### 输出格式

## 达成共识

以下观点得到各参与者的一致认可：
1. [共识点1]
2. [共识点2]
3. [共识点3]

## 保留分歧

以下问题存在不同意见：
| 观点 | 不同意见 |
|------|----------|
| [议题1] | [角色1观点] vs [角色2观点] |
| [议题2] | [角色3观点] vs [角色4观点] |

---

## 第九阶段：调研验证(共识提炼)

### 目标

由调研官在共识提炼阶段后，验证共识陈述的准确性。

### 执行过程

1. **共识验证**
   - 检查共识陈述是否有事实依据
   - 验证共识的达成是否合理
   - 检测是否存在被误认为共识的分歧点

2. **分歧验证**
   - 确认保留分歧的描述准确
   - 验证不同意见的表述

3. **最终确认**
   - 确保整体讨论结果的准确性
   - 识别可能需要进一步讨论的领域

---

## 第十阶段：会议总结

### 目标

基于所有环节的输出，生成完整的会议纪要。

### 执行过程

1. **整合所有环节输出**：
   - 议题定义
   - 上下文收集结果
   - 参与者角色
   - 各方观点
   - 观点交换总结
   - 达成共识
   - 保留分歧
   - 各阶段的证据验证结果

2. **生成建议行动方案**：
   - 基于共识和分歧分析
   - 提出可执行的行动建议
   - 说明优先级和实施方式

3. **输出完整纪要**：
   - 按照指定格式输出
   - 确保结构完整、内容丰富

### 输出格式

完整的会议纪要格式见 `references/roundtable-output.md`

